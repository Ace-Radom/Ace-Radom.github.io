<!DOCTYPE html>

<html>
    <head>
		<title>Renalog日志库简介及使用说明 Ace_Radom's Blog</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
	</head>
    <body class="is-preload">

		<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="../index.html" class="image avatar"><img src="../images/avatar.jpg" alt="" /></a>
					<h1><strong>Ace_Radom here</strong><br>
					骐骥一跃 不能十步<br>
					驽马十驾 功在不舍</h1>
				</div>
			</header>

		<!-- Main Text -->

            <div id="main">

                <section id="Introduction">
                    <header class="major">
                        <h2>Renalog日志库简介及使用说明</h2>
                    </header>
                    <p>renalog是一个C++的轻量级日志库 提供了日志的创建和简单的解析功能<br>
                    最初在Windows系统下使用MinGW-W64环境完成开发 遵循C++11标准 目前正在尝试对源码做部分修改 以达到跨平台的目的</p>
                    <header>
                        <h3>目录:</h3>
                    </header>
                    <ol>
                        <li><a href="#Compilation">renalog库的编译</a></li>
                        <li><a href="#Header_include">引入库头文件</a></li>
                        <li><a href="#Standard_usage">renalog的基础使用</a></li>
                        <li>renalog_reader日志分析库的使用</li>
                        <li>函数及返回值列表</li>
                    </ol>
                </section>

				<section id="Compilation">
					<header class="major">
						<h3>1. renalog库的编译</h3>
					</header>
					<p>renalog库使用CMake进行代码管理 编译时建议使用CMake自带的GUI</p>
					<div align="center">
						<article class="col-6 col-12-xsmall work-item">
							<a href="../images/fulls/renalog_introduction_tutorial/CMake_GUI_Options.png" class="image fit thumb"><img src="../images/thumbs/renalog_introduction_tutorial/CMake_GUI_Options.png" alt="" /></a>
							<h3>CMake GUI在第一次Configure后的编译选项</h3>
						</article>
					</div>
					<p>如上图所示 renalog库共有四个编译选项:</p>
					<div class="table-wrapper">
						<table class="alt">
							<thead>
								<tr>
									<th>编译选项</th>
									<th>作用</th>
									<th>默认值</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>BUILD_RELEASE</td>
									<td>编译Release版库 关闭则编译Debug版库</td>
									<td><code>ON</code></td>
								</tr>
								<tr>
									<td>BUILD_SHARED</td>
									<td>编译动态库</td>
									<td><code>ON</code></td>
								</tr>
								<tr>
									<td>BUILD_STATIC</td>
									<td>编译静态库</td>
									<td><code>ON</code></td>
								</tr>
								<tr>
									<td>BUILD_LOGREADER_FUNCTION</td>
									<td>编译renalog的日志读取库</td>
									<td><code>ON</code></td>
								</tr>
							</tbody>
						</table>
					</div>
					<p>调整完编译选项后 再次执行Configure 直到没有红色报错后执行Generate<br>
					随后进入编译文件夹 在该文件夹下打开终端依次执行 (此处以MinGW为例):</p>
					<pre><code>mingw32-make<br>mingw32-make install</code></pre>
					<p>若一切正常 终端界面应该如图所示:</p>
					<div align="center">
						<article class="col-6 col-12-xsmall work-item">
							<a href="../images/fulls/renalog_introduction_tutorial/Make_and_Install.png" class="image fit thumb"><img src="../images/thumbs/renalog_introduction_tutorial/Make_and_Install.png" alt="" /></a>
							<h3>正常的完整make流程</h3>
						</article>
					</div>
					<p>请务必注意: 若没有更改默认安装位置 install命令需要终端拥有管理员权限 否则会出现权限不足报错<br>
					此时只需重新打开一个拥有管理员权限的终端并重新执行install即可<br><br>
					然后前往安装位置 应该能看到一个名叫renalog的文件夹 内有bin include lib三个子文件夹<br>
					在他们其中依次是renalog的动态链接库 头文件和静态链接库<br>
					随后将该文件夹拷出 使用时只需按需链接动态或静态库即可</p>
				</section>

				<section id="Header_include">
					<header class="major">
						<h3>2. 引入库头文件</h3>
					</header>
					<p>当编译了renalog的日志读取库 在安装库文件时会一同安装renalog.h头文件 在其中包含了其余需要引用的头文件<br>
					因此 如果编译了日志读取库 使用时只需在程序内加上</p>
					<div style="background-color:#f6f8fa;color:#444;"><font face="monospace">
						<ul style="list-style: none;">
							<li><font color="96cbfe">#include&quot;renalog/renalog.h&quot;</font></li>
						</ul>
					</font></div>
					<p>但如果没有编译日志读取库 则不会安装renalog.h头文件 使用时就需要如此引入头文件:</p>
					<div style="background-color:#f6f8fa;color:#444;"><font face="monospace">
						<ul style="list-style: none;">
							<li><font color="96cbfe">#include&quot;renalog/renalog_core.h&quot;</font></li>
						</ul>
					</font></div>
					<p>当然 直接引用需要的模块的头文件也是可以的 比如:</p>
					<div style="background-color:#f6f8fa;color:#444;"><font face="monospace">
						<ul style="list-style: none;">
							<li><font color="96cbfe">#include&quot;renalog/renalog_core.h&quot;</font></li>
							<li><font color="009900">//引入renalog日志库主体 (日志创建库)</font></li>
							<li><br></li>
							<li><font color="96cbfe">#include&quot;renalog/renalog_read.h&quot;</font></li>
							<li><font color="009900">//引入renalog日志读取库</font></li>
						</ol>
					</font></div>
					<p>一般来说在使用renalog库时按需引用头文件即可</p>
				</section>

				<section id="Standard_usage">
					<header class="major">
						<h3>3. renalog的基础使用</h3>
					</header>
					<p>renalog库内成员均被封装在命名空间rena下 使用时需注意命名空间引用</p>

					<section>
						<header>
							<h4>3.1 初始化renalog类</h4>
						</header>
						<p>要实现基础的日志创建功能 应使用rena命名空间下的renalog类 比如:</p>
						<div style="background-color:#f6f8fa;color:#444;"><font face="monospace">
							<ul style="list-style: none;">
								<li><font color="f0b4a8">rena</font><font color="cc0000">::</font><font color="d8a8f0">renalog</font>&nbsp;<font color="6299d5">rl</font><font color="000000">(</font><font color="ca9279">&quot;log&quot;</font><font color="000000">);</font></li>
							</ul>
						</font></div>
						<p>这样会在程序内创建一个名为rl的对象 之后所有的日志创建 日志记录等等的功能皆需要在该对象下实现<br>
						同时 也需要在创建renalog对象时使用类构析函数 指定日志的保存路径 (日志保存路径可为绝对路径也可为相对路径)<br>
						在创建rl对象的同时 renalog会自动定位到给到的日志保存路径 并检查该路径是否存在<br>
						若不存在 renalog会自动创建该路径 如果他有创建该路径的权限</p>
					</section>

					<section>
						<header>
							<h4>3.2 创建日志文件</h4>
						</header>
						<p>renalog需要一个日志标头以创建日志文件 比如:</p>
						<div style="background-color:#f6f8fa;color:#444;"><font face="monospace">
							<ul style="list-style: none;">
								<li><font color="6299d5">rl</font><font color="cc0000">.</font><font color="ff9900">open</font><font color="000000">(</font><font color="ca9279">&quot;logtest&quot;</font><font color="000000">);</font></li>
							</ul>
						</font></div>
						<p>在这里 logtest就是该日志的标头 标头加上创建时间便是日志的文件名<br>
						如果我们在2022年12月11日15:25:30时创建了这个日志文件 那么日志文件的文件名便是:</p>
						<pre><code>logtest_20221211.15.25.30.log</code></pre>
						<p>直到关闭该日志文件前 所有的日志都会被记录在该文件中<br>
						而一旦日志文件被关闭 renalog库就无法再往其中写入日志 需要重新按上面的步骤创建新日志文件</p>
					</section>

					<section>
						<header>
							<h4>3.3 记录日志</h4>
						</header>
						<p>本节将介绍如何使用renalog来记录日志<br>
						renalog主要使用log成员函数来记录不同类型的日志内容 他的函数定义如下:</p>
						<div style="background-color:#f6f8fa;color:#444;"><font face="monospace">
							<ul style="list-style: none;">
								<li><font color="cc3300">void</font>&nbsp;<font color="f0b4a8">rena</font><font color="cc0000">::</font><font color="d8a8f0">renalog</font><font color="cc0000">::</font><font color="ff9900">log</font><font color="000000">(</font><font color="f0b4a8">rena</font><font color="cc0000">::</font><font color="cc3300">lt</font>&nbsp;<font color="0066cc">__lt</font><font color="000000">,</font><font color="f0b4a8">std</font><font color="cc0000">::</font><font color="d8a8f0">string</font>&nbsp;<font color="0066cc">__from</font><font color="000000">,</font><font color="f0b4a8">std</font><font color="cc0000">::</font><font color="d8a8f0">string</font>&nbsp;<font color="0066cc">__info</font><font color="000000">);</font></li>
							</ul>
						</font></div>
						<p>由此可见 renalog在记录日志时需要提供三个参数: 日志的类型 日志的来源和日志的内容<br>
						<br>
						renalog支持三种日志类型: <code>INFO</code> <code>WARNING</code>和<code>ERROR</code> 分别代表普通信息 警告和错误<br>
						不同于某些日志库 renalog只提供日志的记录功能 并不会干预程序其他部分的运行 也就意味着即使renalog收到了一条错误日志 也只会记录该日志 而不会执行像停止程序等等的其他指令<br>
						<br>
						日志来源则是用来标明该条日志是在哪一个位置被记录的 应为一个不含冒号的字符串 (冒号会被自动替换为空格)<br>
						renalog允许在一个日志文件内出现多个不同的日志来源</p>
					</section>

					<section>
						<header>
							<h4>3.4 关闭日志文件</h4>
						</header>
						<p>若无需继续记录日志 或者要重新创建一个新的日志文件 则需要用到close成员函数</p>
						<div style="background-color:#f6f8fa;color:#444;"><font face="monospace">
							<ul style="list-style: none;">
								<li><font color="6299d5">rl</font><font color="cc0000">.</font><font color="ff9900">close</font><font color="000000">();</font></li>
							</ul>
						</font></div>
						<p>这样 renalog将会关闭当前的日志流并清空所有缓存 继续记录日志将需要重新创建<br>
						另外: 目前renalog不支持在初始化后更改日志保存路径 这个限制可能会在后续版本中被移除</p>
					</section>					
					
				</section>

            </div>

        <!-- Footer -->
			<footer id="footer">
				<ul class="copyright">
					<li><a href="../index.html">Homepage</a></li>
				</ul>
				<div class="inner">
					<ul class="icons">
						<li><a href="https://twitter.com/Hisaki03492862" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="https://github.com/Ace-Radom" class="icon brands fa-github"><span class="label">Github</span></a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; Ace_Radom</li>
						<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="../assets/js/jquery.min.js"></script>
			<script src="../assets/js/jquery.poptrox.min.js"></script>
			<script src="../assets/js/browser.min.js"></script>
			<script src="../assets/js/breakpoints.min.js"></script>
			<script src="../assets/js/util.js"></script>
			<script src="../assets/js/main.js"></script>

	</body>
</html>